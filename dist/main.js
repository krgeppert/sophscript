!function(t){var e={};function i(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){var o=i(2),r=i(3),n=i(4),s=process.cwd(),l=r.resolve(s,process.argv[2]),a=r.resolve(s,process.argv[3]),f=r.resolve(s,process.argv[4]),u={a:"t",t:"a",c:"g",g:"c"},c=o.readFileSync(a,"utf8"),_=o.readdirSync(l,"utf8").filter((function(t){return".seq"===t.slice(t.length-4)})).map((function(t){return o.readFileSync(r.resolve(l,t),"utf8")}));console.log("found "+_.length+" .seq files in directory "+l);var h=function(t){for(var e="",i=0;i<t.length;i++){var o=t[i].toLowerCase();e+=u[o]||o}return e},m=function(t){for(var e="",i=0;i<t.length;i++)e+=t[t.length-i-1];return e};n(c,(function(t,e){if(t)throw t;console.log(e.length+" possible transformations found in "+a);var i="",r=0;_.forEach((function(t){var o=t.split("\n").filter((function(t){return!!t.length})),n=o[0].split("_").filter((function(t){return!!t.length}));e.forEach((function(t){for(var e=!0,s=t.slice(0,t.length-2).map((function(t){return t.trim()})),l=0;l<s.length;l++)e=e&&s[l].toLowerCase()===n[l].toLowerCase();if(e){r++;var a=o.slice(1).reduce((function(t,e){return t+e.trim()}),""),f=[parseInt(t[t.length-2],10)-1,parseInt(t[t.length-1],10)-1],u=s.join("_"),c=a.slice(f[0],f[1]).trim();i=(i=(i=(i=i+u+"_F\n"+c.toUpperCase()+"\n")+u+"_RV\n"+m(c).toUpperCase()+"\n")+u+"_C\n"+h(c).toUpperCase()+"\n")+u+"_RC\n"+m(h(c)).toUpperCase()+"\n"}}))})),console.log(r+" transform matches found."),o.writeFileSync(f,i),console.log("output written to "+f)}))},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,i){const{Transform:o}=i(5),r=i(6),n=13,s=10,l=32,a=9,f=Buffer.from([239,187,191]);class u extends o{constructor(t={}){super({readableObjectMode:!0,...t});const e={};for(let i in t)e[h(i)]=t[i];if(void 0===e.bom||null===e.bom||!1===e.bom)e.bom=!1;else if(!0!==e.bom)throw new _("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`]);let i=null;if(void 0===e.cast||null===e.cast||!1===e.cast||""===e.cast)e.cast=void 0;else if("function"==typeof e.cast)i=e.cast,e.cast=!0;else if(!0!==e.cast)throw new _("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`]);if(void 0===e.cast_date||null===e.cast_date||!1===e.cast_date||""===e.cast_date)e.cast_date=!1;else if(!0===e.cast_date)e.cast_date=function(t){const e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!=typeof e.cast_date)throw new _("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`]);let o=null;if(!0===e.columns)o=void 0;else if("function"==typeof e.columns)o=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=p(e.columns);else{if(void 0!==e.columns&&null!==e.columns&&!1!==e.columns)throw new _("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an object, a function or true,",`got ${JSON.stringify(e.columns)}`]);e.columns=!1}if(void 0===e.comment||null===e.comment||!1===e.comment||""===e.comment)e.comment=null;else if("string"==typeof e.comment&&(e.comment=Buffer.from(e.comment)),!Buffer.isBuffer(e.comment))throw new _("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`]);if(void 0===e.delimiter||null===e.delimiter||!1===e.delimiter)e.delimiter=Buffer.from(",");else if("string"==typeof e.delimiter&&0!==e.delimiter.length)e.delimiter=Buffer.from(e.delimiter);else if(Buffer.isBuffer(e.delimiter)&&0===e.delimiter.length||"string"==typeof e.delimiter&&0===e.delimiter.length||!Buffer.isBuffer(e.delimiter)&&"string"!=typeof e.delimiter)throw new _("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer,",`got ${JSON.stringify(e.delimiter)}`]);if(void 0===e.escape||null===e.escape?e.escape=Buffer.from('"'):"string"==typeof e.escape&&(e.escape=Buffer.from(e.escape)),!Buffer.isBuffer(e.escape))throw new Error(`Invalid Option: escape must be a buffer or a string, got ${JSON.stringify(e.escape)}`);if(1!==e.escape.length)throw new Error(`Invalid Option Length: escape must be one character, got ${e.escape.length}`);if(e.escape=e.escape[0],void 0===e.from||null===e.from)e.from=1;else{if("string"==typeof e.from&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),!Number.isInteger(e.from))throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}if(void 0===e.from_line||null===e.from_line)e.from_line=1;else{if("string"==typeof e.from_line&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),!Number.isInteger(e.from_line))throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}if(void 0===e.info||null===e.info||!1===e.info)e.info=!1;else if(!0!==e.info)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(void 0===e.max_record_size||null===e.max_record_size||!1===e.max_record_size)e.max_record_size=0;else if(Number.isInteger(e.max_record_size)&&e.max_record_size>=0);else{if("string"!=typeof e.max_record_size||!/\d+/.test(e.max_record_size))throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);e.max_record_size=parseInt(e.max_record_size)}if(void 0===e.objname||null===e.objname||!1===e.objname)e.objname=void 0;else if(Buffer.isBuffer(e.objname)){if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");e.objname=e.objname.toString()}else{if("string"!=typeof e.objname)throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(0===e.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}if(void 0===e.on_record||null===e.on_record)e.on_record=void 0;else if("function"!=typeof e.on_record)throw new _("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`]);if(null===e.quote||!1===e.quote||""===e.quote)e.quote=null;else{if(void 0===e.quote||!0===e.quote?e.quote=Buffer.from('"'):"string"==typeof e.quote&&(e.quote=Buffer.from(e.quote)),!Buffer.isBuffer(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(1!==e.quote.length)throw new Error(`Invalid Option Length: quote must be one character, got ${e.quote.length}`);e.quote=e.quote[0]}if(void 0===e.raw||null===e.raw||!1===e.raw)e.raw=!1;else if(!0!==e.raw)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter?Array.isArray(e.record_delimiter)||(e.record_delimiter=[e.record_delimiter]):e.record_delimiter=[],e.record_delimiter=e.record_delimiter.map((function(t){return"string"==typeof t&&(t=Buffer.from(t)),t})),"boolean"==typeof e.relax);else{if(void 0!==e.relax&&null!==e.relax)throw new Error(`Invalid Option: relax must be a boolean, got ${JSON.stringify(e.relax)}`);e.relax=!1}if("boolean"==typeof e.relax_column_count);else{if(void 0!==e.relax_column_count&&null!==e.relax_column_count)throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);e.relax_column_count=!1}if("boolean"==typeof e.relax_column_count_less);else{if(void 0!==e.relax_column_count_less&&null!==e.relax_column_count_less)throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);e.relax_column_count_less=!1}if("boolean"==typeof e.relax_column_count_more);else{if(void 0!==e.relax_column_count_more&&null!==e.relax_column_count_more)throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);e.relax_column_count_more=!1}if("boolean"==typeof e.skip_empty_lines);else{if(void 0!==e.skip_empty_lines&&null!==e.skip_empty_lines)throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);e.skip_empty_lines=!1}if("boolean"==typeof e.skip_lines_with_empty_values);else{if(void 0!==e.skip_lines_with_empty_values&&null!==e.skip_lines_with_empty_values)throw new Error(`Invalid Option: skip_lines_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_lines_with_empty_values)}`);e.skip_lines_with_empty_values=!1}if("boolean"==typeof e.skip_lines_with_error);else{if(void 0!==e.skip_lines_with_error&&null!==e.skip_lines_with_error)throw new Error(`Invalid Option: skip_lines_with_error must be a boolean, got ${JSON.stringify(e.skip_lines_with_error)}`);e.skip_lines_with_error=!1}if(void 0===e.rtrim||null===e.rtrim||!1===e.rtrim)e.rtrim=!1;else if(!0!==e.rtrim)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(void 0===e.ltrim||null===e.ltrim||!1===e.ltrim)e.ltrim=!1;else if(!0!==e.ltrim)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(void 0===e.trim||null===e.trim||!1===e.trim)e.trim=!1;else if(!0!==e.trim)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(!0===e.trim&&!1!==t.ltrim?e.ltrim=!0:!0!==e.ltrim&&(e.ltrim=!1),!0===e.trim&&!1!==t.rtrim?e.rtrim=!0:!0!==e.rtrim&&(e.rtrim=!1),void 0===e.to||null===e.to)e.to=-1;else{if("string"==typeof e.to&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),!Number.isInteger(e.to))throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}if(void 0===e.to_line||null===e.to_line)e.to_line=-1;else{if("string"==typeof e.to_line&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),!Number.isInteger(e.to_line))throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}this.info={comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},this.options=e,this.state={bomSkipped:!1,castField:i,commenting:!1,enabled:1===e.from_line,escaping:!1,escapeIsQuote:e.escape===e.quote,expectedRecordLength:null===e.columns?0:e.columns.length,field:new r(20),firstLineToHeaders:o,info:Object.assign({},this.info),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new r(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===e.record_delimiter.length?2:Math.max(...e.record_delimiter.map(t=>t.length)),trimChars:[Buffer.from(" ")[0],Buffer.from("\t")[0]],wasQuoting:!1,wasRowDelimiter:!1}}_transform(t,e,i){if(!0===this.state.stop)return;const o=this.__parse(t,!1);void 0!==o&&(this.state.stop=!0),i(o)}_flush(t){if(!0===this.state.stop)return;t(this.__parse(void 0,!0))}__parse(t,e){const{bom:i,comment:o,escape:r,from_line:l,info:a,ltrim:u,max_record_size:c,quote:h,raw:m,relax:d,rtrim:p,skip_empty_lines:g,to:w,to_line:v}=this.options;let{record_delimiter:b}=this.options;const{bomSkipped:y,previousBuf:O,rawBuffer:I,escapeIsQuote:S}=this.state;let x;if(void 0===O){if(void 0===t)return void this.push(null);x=t}else x=void 0!==O&&void 0===t?O:Buffer.concat([O,t]);if(!1===y)if(!1===i)this.state.bomSkipped=!0;else if(x.length<3){if(!1===e)return void(this.state.previousBuf=x)}else 0===f.compare(x,0,3)&&(x=x.slice(3)),this.state.bomSkipped=!0;const N=x.length;let E;for(E=0;E<N&&!this.__needMoreData(E,N,e);E++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,!0===a&&0===this.state.record.length&&0===this.state.field.length&&!1===this.state.wasQuoting&&(this.state.info=Object.assign({},this.info)),this.state.wasRowDelimiter=!1),-1!==v&&this.info.lines>v)return this.state.stop=!0,void this.push(null);if(!1===this.state.quoting&&0===b.length){this.__autoDiscoverRowDelimiter(x,E)&&(b=this.options.record_delimiter)}const t=x[E];if(!0===m&&I.append(t),t!==n&&t!==s||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(!0===this.state.quoting&&t===r&&E+1<N){if(!S){this.state.escaping=!0;continue}if(x[E+1]===h){this.state.escaping=!0;continue}}if(!1===this.state.commenting&&t===h)if(!0===this.state.quoting){const e=x[E+1],i=p&&this.__isCharTrimable(e),n=null!==o&&this.__compareBytes(o,x,E+1,e),s=this.__isDelimiter(e,x,E+1),l=0===b.length?this.__autoDiscoverRowDelimiter(x,E+1):this.__isRecordDelimiter(e,x,E+1);if(t===r&&e===h)E++;else{if(!e||s||l||n||i){this.state.quoting=!1,this.state.wasQuoting=!0;continue}if(!1===d){const t=this.__error(new _("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(e)}"`,`at line ${this.info.lines}`,"instead of delimiter, row delimiter, trimable character","(if activated) or comment"],this.__context()));if(void 0!==t)return t}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(h)}}else{if(0===this.state.field.length){this.state.quoting=!0;continue}if(!1===d){const t=this.__error(new _("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found inside a field at line ${this.info.lines}`],this.__context(),{field:this.state.field}));if(void 0!==t)return t}}if(!1===this.state.quoting){let e=this.__isRecordDelimiter(t,x,E);if(0!==e){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!0===g&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,E+=e-1;continue}if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=l){this.state.enabled=!0,this.__resetField(),this.__resetRow(),E+=e-1;continue}{const t=this.__onField();if(void 0!==t)return t;const e=this.__onRow();if(void 0!==e)return e}if(-1!==w&&this.info.records>=w)return this.state.stop=!0,void this.push(null)}this.state.commenting=!1,E+=e-1;continue}if(this.state.commenting)continue;if(0!==(null===o?0:this.__compareBytes(o,x,E,t))){this.state.commenting=!0;continue}let i=this.__isDelimiter(t,x,E);if(0!==i){const t=this.__onField();if(void 0!==t)return t;E+=i-1;continue}}}if(!1===this.state.commenting&&0!==c&&this.state.record_length+this.state.field.length>c){const t=this.__error(new _("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${c}`,`at line ${this.info.lines}`],this.__context()));if(void 0!==t)return t}const e=!1===u||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(t),i=!1===p||!1===this.state.wasQuoting;if(!0===e&&!0===i)this.state.field.append(t);else if(!0===p&&!this.__isCharTrimable(t)){const t=this.__error(new _("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.__context()));if(void 0!==t)return t}}if(!0===e)if(!0===this.state.quoting){const t=this.__error(new _("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.__context()));if(void 0!==t)return t}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){const t=this.__onField();if(void 0!==t)return t;const e=this.__onRow();if(void 0!==e)return e}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.previousBuf=x.slice(E);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}__isCharTrimable(t){return t===l||t===a||t===n||t===s}__onRow(){const{columns:t,info:e,from:i,relax_column_count:o,relax_column_count_less:r,relax_column_count_more:n,raw:s,skip_lines_with_empty_values:l}=this.options,{enabled:a,record:f}=this.state;if(!1===a)return this.__resetRow();const u=f.length;if(!0===t)return d(f)?void this.__resetRow():this.__firstLineToColumns(f);if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=u),u!==this.state.expectedRecordLength)if(!0===o||!0===r&&u<this.state.expectedRecordLength||!0===n&&u>this.state.expectedRecordLength)this.info.invalid_field_length++;else if(!1===t){const t=this.__error(new _("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${u} on line ${this.info.lines}`],this.__context(),{record:f}));if(void 0!==t)return t}else{const e=this.__error(new _("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:",`columns length is ${t.length},`,`got ${u} on line ${this.info.lines}`],this.__context(),{record:f}));if(void 0!==e)return e}if(!0===l&&d(f))this.__resetRow();else{if(!0===this.state.recordHasError)return this.__resetRow(),void(this.state.recordHasError=!1);if(this.info.records++,1===i||this.info.records>=i)if(!1!==t){const i={};for(let e in f)void 0===t[e]||t[e].disabled||(i[t[e].name]=f[e]);const{objname:o}=this.options;void 0===o?!0===s||!0===e?this.__push(Object.assign({record:i},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===e?{info:this.state.info}:{})):this.__push(i):!0===s||!0===e?this.__push(Object.assign({record:[i[o],i]},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===e?{info:this.state.info}:{})):this.__push([i[o],i])}else!0===s||!0===e?this.__push(Object.assign({record:f},!0===s?{raw:this.state.rawBuffer.toString()}:{},!0===e?{info:this.state.info}:{})):this.__push(f);this.__resetRow()}}__firstLineToColumns(t){const{firstLineToHeaders:e}=this.state;try{const i=void 0===e?t:e.call(null,t);if(!Array.isArray(i))return this.__error(new _("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(i)}`],this.__context(),{headers:i}));const o=p(i);return this.state.expectedRecordLength=o.length,this.options.columns=o,void this.__resetRow()}catch(t){return t}}__resetRow(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.record=[],this.state.record_length=0}__onField(){const{cast:t,rtrim:e,max_record_size:i}=this.options,{enabled:o,wasQuoting:r}=this.state;if(!1===o)return this.__resetField();let n=this.state.field.toString();if(!0===e&&!1===r&&(n=n.trimRight()),!0===t){const[t,e]=this.__cast(n);if(void 0!==t)return t;n=e}this.state.record.push(n),0!==i&&"string"==typeof n&&(this.state.record_length+=n.length),this.__resetField()}__resetField(){this.state.field.reset(),this.state.wasQuoting=!1}__push(t){const{on_record:e}=this.options;if(void 0!==e){const i=this.__context();if(null==(t=e.call(null,t,i)))return}this.push(t)}__cast(t){const{columns:e,relax_column_count:i}=this.options;if(!0===Array.isArray(e)&&i&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];const o=this.__context();if(null!==this.state.castField)try{return[void 0,this.state.castField.call(null,t,o)]}catch(t){return[t]}return this.__isFloat(t)?[void 0,parseFloat(t)]:!1!==this.options.cast_date?[void 0,this.options.cast_date.call(null,t,o)]:[void 0,t]}__isFloat(t){return t-parseFloat(t)+1>=0}__compareBytes(t,e,i,o){if(t[0]!==o)return 0;const r=t.length;for(let o=1;o<r;o++)if(t[o]!==e[i+o])return 0;return r}__needMoreData(t,e,i){if(i)return!1;const{comment:o,delimiter:r}=this.options,{quoting:n,recordDelimiterMaxLength:s}=this.state;return e-t-1<Math.max(o?o.length:0,s,n?1+s:0,r.length,1)}__isDelimiter(t,e,i){const{delimiter:o}=this.options,r=o.length;if(o[0]!==t)return 0;for(let t=1;t<r;t++)if(o[t]!==e[i+t])return 0;return o.length}__isRecordDelimiter(t,e,i){const{record_delimiter:o}=this.options,r=o.length;t:for(let n=0;n<r;n++){const r=o[n],s=r.length;if(r[0]===t){for(let t=1;t<s;t++)if(r[t]!==e[i+t])continue t;return r.length}}return 0}__autoDiscoverRowDelimiter(t,e){const i=t[e];return i===n?t[e+1]===s?(this.options.record_delimiter.push(Buffer.from("\r\n")),this.state.recordDelimiterMaxLength=2,2):(this.options.record_delimiter.push(Buffer.from("\r")),this.state.recordDelimiterMaxLength=1,1):i===s?(this.options.record_delimiter.push(Buffer.from("\n")),this.state.recordDelimiterMaxLength=1,1):0}__error(t){const{skip_lines_with_error:e}=this.options,i="string"==typeof t?new Error(t):t;return e?(this.state.recordHasError=!0,void this.emit("skip",i)):i}__context(){const{columns:t}=this.options;return{column:!0===Array.isArray(t)?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,empty_lines:this.info.empty_lines,header:!0===t,index:this.state.record.length,invalid_field_length:this.info.invalid_field_length,quoting:this.state.wasQuoting,lines:this.info.lines,records:this.info.records}}}const c=function(){let t,e,i;for(let o in arguments){const r=arguments[o],n=typeof r;if(void 0!==t||"string"!=typeof r&&!Buffer.isBuffer(r))if(void 0===e&&m(r))e=r;else{if(void 0!==i||"function"!==n)throw new _("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(r)} at index ${o}`]);i=r}else t=r}const o=new u(e);if(i){const t=void 0===e||void 0===e.objname?[]:{};o.on("readable",(function(){let i;for(;null!==(i=this.read());)void 0===e||void 0===e.objname?t.push(i):t[i[0]]=i[1]})),o.on("error",(function(t){i(t,void 0,o.info)})),o.on("end",(function(){i(void 0,t,o.info)}))}return void 0!==t&&(o.write(t),o.end()),o};class _ extends Error{constructor(t,e,...i){Array.isArray(e)&&(e=e.join(" ")),super(e),Error.captureStackTrace(this,_),this.code=t;for(const t of i)for(const e in t){const i=t[e];this[e]=Buffer.isBuffer(i)?i.toString():null==i?i:JSON.parse(JSON.stringify(i))}}}c.Parser=u,c.CsvError=_,t.exports=c;const h=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))},m=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},d=function(t){return t.every(t=>null==t||t.toString&&""===t.toString().trim())},p=function(t){const e=[];for(let i=0;i<t.length;i++){const o=t[i];if(null==o||!1===o)e[i]={disabled:!0};else if("string"==typeof o)e[i]={name:o};else{if(!m(o))throw new _("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(o)} at position ${i}`]);if("string"!=typeof o.name)throw new _("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"]);e[i]=o}}return e}},function(t,e){t.exports=require("stream")},function(t,e){t.exports=class{constructor(t=100){this.size=t,this.length=0,this.buf=Buffer.alloc(t)}prepend(t){const e=this.length++;e===this.size&&this.resize();const i=this.clone();this.buf[0]=t,i.copy(this.buf,1,0,e)}append(t){const e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}clone(){return Buffer.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=2*this.size;const e=Buffer.alloc(this.size);this.buf.copy(e,0,0,t),this.buf=e}toString(){return this.buf.slice(0,this.length).toString()}toJSON(){return this.toString()}reset(){this.length=0}}}]);